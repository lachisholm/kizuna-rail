<%- include('../partials/header') %>

<section class="content-grid">
    <h1>Scenic Train Routes</h1>

    <form method="GET" action="/routes" class="routes-filters">
        <div class="filter filter-left">
            <label for="region">Region</label>
            <select name="region" id="region" onchange="this.form.submit()">
                <option value="">All Regions</option>
                <% regions.forEach(r => { %>
                    <option value="<%= r %>" <%= selectedRegion === r ? 'selected' : '' %>>
                        <%= r %>
                    </option>
                <% }) %>
            </select>
        </div>

        <div class="filter filter-right">
            <label for="season">Season</label>
            <select name="season" id="season" onchange="this.form.submit()">
                <option value="">All Seasons</option>
                <% seasons.forEach(s => { %>
                    <option value="<%= s %>" <%= selectedSeason === s ? 'selected' : '' %>>
                        <%= s %>
                    </option>
                <% }) %>
            </select>
        </div>
    </form>

    <div class="routes-grid">
        <% routes.forEach(route => { %>
            <article class="route-card">
                <img src="<%= route.image %>" alt="<%= route.name %>">
                <h3><%= route.name %></h3>
                <p><%= route.description %></p>
                <a href="/routes/<%= route.id %>">View Details â†’</a>
            </article>
        <% }) %>
    </div>
</section>

<%- include('../partials/footer') %>
